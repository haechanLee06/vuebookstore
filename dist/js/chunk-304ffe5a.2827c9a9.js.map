{"version":3,"sources":["webpack:///./src/views/Shopping.vue","webpack:///./src/views/Shopping.vue?a682","webpack:///./src/views/Shopping.vue?26b2"],"names":["name","data","number","money","selectiondata","dialogVisible","taninfo","Name","Image","Auth","Price","computed","mapState","shopnum","state","shopcar","shopbooks","methods","shopInfoEvent","this","image","auth","price","handleClose","done","delEvent","index","splice","$store","dispatch","length","handleChange","num","map","n","id","handleSelectionChange","eval","join","parseFloat","parseInt","toFixed","style","class","_createElementVNode","_createVNode","_component_el_affix","offset","_component_Header","active","_hoisted_1","_hoisted_2","_hoisted_3","_component_el_table","_ctx","border","header-cell-style","background","color","onSelectionChange","$options","_component_el_table_column","type","width","label","prop","default","_withCtx","scope","_component_el_image","src","require","row","preview-src-list","z-index","hide-on-click-modal","preview-teleported","close-on-press-escape","_hoisted_4","_toDisplayString","_hoisted_5","min-width","_component_el_input_number","$event","size","min","onChange","_component_el_button","onClick","icon","$index","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","$data","_hoisted_10","_hoisted_11","_hoisted_12","disabled","_component_Dialog","dialog","title","onHandleClose","content","_component_Details","_hoisted_13","_component_Footer","__exports__","render"],"mappings":"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","file":"js/chunk-304ffe5a.2827c9a9.js","sourcesContent":["<template>\n    <div>\n        <el-affix :offset=\"0\">\n            <Header :active=\"'/shopping'\" />\n        </el-affix>\n    </div>\n    <div style=\"padding: 0 10%\">\n        <div class=\"bg-white p-20\" style=\"text-align: left; min-height: 80vh\">\n            <div class=\"m-b-20\">\n                <span>购物车</span>\n            </div>\n            <el-table :data=\"shopbooks\" border style=\"width: 100%\" :header-cell-style=\"{ background: '#F5F7FA', color: '#666' }\" @selection-change=\"handleSelectionChange\">\n                <el-table-column type=\"selection\" width=\"55\" />\n                <el-table-column type=\"index\" label=\"序号\" width=\"80\" />\n                <el-table-column prop=\"image\" label=\"书籍\" width=\"140\">\n                    <template #default=\"scope\">\n                        <div>\n                            <el-image\n                                style=\"width: 100px\"\n                                :src=\"require('@/assets/imgs/cardbooks/' + scope.row.image + '')\"\n                                :preview-src-list=\"[require('@/assets/imgs/cardbooks/' + scope.row.image + '')]\"\n                                :z-index=\"9999\"\n                                hide-on-click-modal\n                                preview-teleported\n                                close-on-press-escape\n                            />\n                        </div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"shopinfo\" label=\"书籍简介\" width=\"180\">\n                    <template #default=\"scope\">\n                        <div>\n                            <div>\n                                <span>书名：</span><span>{{ scope.row.name }}</span>\n                            </div>\n                            <div>\n                                <span>作者：</span><span>{{ scope.row.auth }}</span>\n                            </div>\n                        </div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"price\" label=\"单价\" min-width=\"120\">\n                    <template #default=\"scope\">\n                        <div>\n                            <span>￥{{ scope.row.price }}</span>\n                        </div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"num\" label=\"数量\" min-width=\"180\">\n                    <template #default=\"scope\">\n                        <div>\n                            <el-input-number v-model=\"scope.row.num\" size=\"large\" :min=\"1\" @change=\"(data) => handleChange(data, scope.row)\" style=\"width: 100%\" />\n                        </div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"sum\" label=\"小计\" min-width=\"120\">\n                    <template #default=\"scope\">\n                        <div>￥{{ parseFloat((parseInt(scope.row.price * 100) / 100) * scope.row.num).toFixed(2) }}</div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"caozuo\" label=\"操作\" min-width=\"140\">\n                    <template #default=\"scope\">\n                        <div>\n                            <el-button type=\"primary\" @click=\"shopInfoEvent(scope.row)\">详情</el-button>\n                            <el-button type=\"danger\" icon=\"Delete\" @click=\"delEvent(scope.$index)\"></el-button>\n                        </div>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <div class=\"w-100 flex-r flex-jc-r flex-ai-c m-t-20 end-sum\">\n                <div class=\"c-gray\">\n                    <span>已选择</span><span class=\"c-red\">{{ number }}</span\n                    ><span>件商品</span>\n                </div>\n                <div>\n                    <span>合计：</span><span class=\"c-red f-b f-16\">￥{{ money }}</span>\n                </div>\n                <div><el-button type=\"danger\" size=\"large\" style=\"width: 100px\" :disabled=\"shopnum == 0\">结算</el-button></div>\n            </div>\n\n            <!-- 加弹出框-显示详情 -->\n            <div>\n                <Dialog :dialog=\"dialogVisible\" :title=\"taninfo.Name\" v-on:handleClose=\"handleClose\">\n                    <template v-slot:content>\n                        <div>\n                            <Details :image=\"taninfo.Image\" :name=\"taninfo.Name\" :auth=\"taninfo.Auth\" :price=\"taninfo.Price\" :number=\"'20'\" />\n                        </div>\n                    </template>\n                </Dialog>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-box f-12 bg-primary\">\n        <Footer />\n    </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n    name: 'Shopping',\n    data() {\n        return {\n            number: 0,\n            money: '0.00',\n            selectiondata: [],\n\n            dialogVisible: false,\n            taninfo: {\n                Name: '',\n                Image: '',\n                Auth: '',\n                Price: ''\n            }\n        }\n    },\n    computed: {\n        ...mapState({\n            shopnum: (state) => state.shopcar.shopnum,\n            shopbooks: (state) => state.shopcar.shopbooks\n        })\n    },\n    methods: {\n        shopInfoEvent(data) {\n            this.taninfo = {\n                Name: data.name,\n                Image: data.image,\n                Auth: data.auth,\n                Price: data.price\n            }\n\n            this.dialogVisible = true\n        },\n        handleClose(done) {\n            done()\n            this.dialogVisible = false\n        },\n        delEvent(index) {\n            this.shopbooks.splice(index, 1)\n            this.$store.dispatch('shopcar/revise_shopnum', this.shopbooks.length)\n            this.$store.dispatch('shopcar/revise_shopbooks', this.shopbooks)\n        },\n        handleChange(num, data) {\n            if (this.selectiondata.length > 0) {\n                this.selectiondata.map((n) => {\n                    if (n.id == data.id) {\n                        n = data\n                    }\n\n                    return n\n                })\n\n                this.handleSelectionChange(this.selectiondata)\n            }\n        },\n\n        handleSelectionChange(data) {\n            this.selectiondata = data\n\n            if (data.length > 0) {\n                this.number = eval(\n                    data\n                        .map((n) => {\n                            return n.num\n                        })\n                        .join('+')\n                )\n\n                this.money = eval(\n                    data\n                        .map((n) => {\n                            return parseFloat((parseInt(n.price * 100) / 100) * n.num).toFixed(2)\n                        })\n                        .join('+')\n                ).toFixed(2)\n            } else {\n                this.number = 0\n                this.money = '0.00'\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\nbody {\n    background-color: #cacaca55;\n}\n\n.footer-box {\n    height: 40px;\n    line-height: 40px;\n    color: #ffffff;\n}\n\n.end-sum {\n    gap: 40px;\n}\n</style>\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Shopping.vue?vue&type=style&index=0&id=56bab89a&lang=scss\"","import { render } from \"./Shopping.vue?vue&type=template&id=56bab89a\"\nimport script from \"./Shopping.vue?vue&type=script&lang=js\"\nexport * from \"./Shopping.vue?vue&type=script&lang=js\"\n\nimport \"./Shopping.vue?vue&type=style&index=0&id=56bab89a&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\86198\\\\vuebookstore\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}